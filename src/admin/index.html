<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Content Manager</title>
    </head>
    <body>
        <!-- Include the script that builds the page and powers Netlify CMS -->
        <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>

        <!-- Netlify Identity Widget -->
        <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

        <!-- Custom widgets for Netlify CMS -->
        <script type="text/javascript">
            // Ensure Netlify CMS is initialized before we try to register widgets
            if (window.CMS) {
                // Register the custom widgets
                CMS.registerWidget('audio', AudioWidgetControl, AudioWidgetPreview);
                CMS.registerWidget('video', VideoWidgetControl, VideoWidgetPreview);
            } else {
                console.error("Netlify CMS not found");
            }
        </script>

        <!-- Your custom widget script -->
        <script src="cms/customWidgets.js"></script>
    </body>
</html>
